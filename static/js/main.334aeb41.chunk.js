(this["webpackJsonpfinal-web-project"]=this["webpackJsonpfinal-web-project"]||[]).push([[0],{54:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(26),s=a.n(c),o=(a(54),a(5)),i=a.n(o),l=a(10),u=a(8),d=a(44),p=a(6),j=(a(29),a(4)),b=a(11),x=a.n(b),m="https://posts-pw2021.herokuapp.com/api/v1",h=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(m,"/auth/signin"),{username:t,password:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(t)}},e.next=3,x.a.get("".concat(m,"/auth/whoami"),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(2),O=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),a=Object(j.f)();function n(){return(n=Object(l.a)(i.a.mark((function r(n){var c,s,o,l;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),c=e.current.value,s=t.current.value,c&&s){r.next=5;break}return r.abrupt("return",Object(p.b)("Llena las casillas con tus datos",{type:"warning"}));case 5:return r.prev=5,r.next=8,h(c,s);case 8:200===(o=r.sent).status&&(localStorage.setItem("token",o.data.token),localStorage.setItem("role",o.data.role),("admin"===o.data.role||"user"===o.data.role)&&a("/mainpage")),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(5),404===(l=r.t0.response).status?Object(p.b)("Usuario no encontrado",{type:"error"}):403===l.status&&Object(p.b)("Servicio denegado",{type:"error"});case 16:case"end":return r.stop()}}),r,null,[[5,12]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){document.title="Login"}),[]),Object(g.jsxs)("form",{className:"flex flex-wrap justify-center rounded-xl h-96 bg-white max-h-80 p-5 w-60 tablet:w-80",onSubmit:function(e){return n.apply(this,arguments)},children:[Object(g.jsxs)("div",{className:"flex flex-wrap items-center mb-2",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)(u.l,{size:60}),Object(g.jsx)("h1",{className:"p-4 text-center text-2xl font-medium",children:"Login"})]}),Object(g.jsxs)("div",{className:"flex items-center mb-2 w-full",children:[Object(g.jsx)(d.a,{size:20}),Object(g.jsx)("input",{id:"input-username",placeholder:"Username",className:"rounded-lg ml-2 p-2 text-lg w-full",ref:e})]}),Object(g.jsxs)("div",{className:"flex items-center mb-2 w-full",children:[Object(g.jsx)(u.h,{size:20}),Object(g.jsx)("input",{id:"input-password",type:"password",placeholder:"Password",className:"rounded-lg ml-2 p-2 text-lg w-full",ref:t})]}),Object(g.jsxs)("div",{className:"flex flex-row w-full flex-start text-sm items-center p-1",children:[Object(g.jsx)("input",{type:"checkbox",className:"",onClick:function(){!function(){var e=document.getElementById("input-password");"password"===e.type?e.type="text":e.type="password"}()}}),Object(g.jsx)("p",{className:"ml-2 text-sm",children:" Show password "})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:"bg-theRevenant-darkBlue px-4 py-2 text-white bg-gradient-to-r text-lg font-medium rounded-xl  hover:from-blue-800 to-indigo-900",children:" Login "})})]})},v=a(3),y=a(45),w=a.n(y);var k=a(109),N=a(32),S=a.p+"static/media/logoLight.85c1c87c.svg",C=a.p+"static/media/logoDark1.9f2a763b.svg",I=a(46),L=function(e){var t=e.username,a=Object(j.f)(),n=Object(r.useState)(!1),c=Object(v.a)(n,2),s=c[0],o=c[1],i=function(){var e=Object(r.useState)("light"),t=Object(v.a)(e,2),a=t[0],n=t[1],c="light"===a?"dark":"light";return Object(r.useEffect)((function(){var e=window.document.documentElement;e.classList.add(a),e.classList.remove(c)}),[a,c]),[c,n]}(),l=Object(v.a)(i,2),d=l[0],p=l[1],b=localStorage.getItem("role"),x=Object(r.useState)(!1),m=Object(v.a)(x,2),h=m[0],f=m[1];return Object(g.jsxs)("ul",{className:"font-medium w-full max-h-30 h-14 p-4 bg-gray-100 flex items-center  rounded shadow overflow-hidden justify-around dark:bg-gray-700 dark:text-white",children:[Object(g.jsx)("li",{className:"flex rounded-lg",children:Object(g.jsxs)("div",{className:"flex flex-row items-center ml-4 text-xl",children:[Object(g.jsx)(N.b,{className:s?"hidden":"text-yellow-500"}),Object(g.jsx)(k.a,{checked:s,onChange:function(e){s?(o(!1),p(d)):(o(!0),p(d)),localStorage.setItem("checked",s)},title:s?"Desactivar modo oscuro":"Activar modo oscuro"}),Object(g.jsx)(N.a,{className:s?"":"hidden"})]})}),Object(g.jsx)("li",{className:"",children:Object(g.jsx)("img",{className:"w-28 h-28 tablet:h-40 tablet:w-40",src:s?C:S,alt:"logo"})}),Object(g.jsxs)("li",{className:"flex justify-end items-center space-x-3",children:["admin"===b&&Object(g.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-400 lg:text-2xl dark:hover:bg-gray-600",title:"Perfil de ".concat(t),onClick:function(e){f(!h),!0===h?a("/profile"):!1===h&&a("/mainpage")},children:Object(g.jsx)(I.a,{})}),Object(g.jsxs)("button",{className:"p-2 rounded-lg flex flex-row space-x-4 hover:bg-gray-400 lg:text-2xl dark:hover:bg-gray-600",onClick:function(){w.a.fire({title:"Cerrar sesi\xf3n",text:"\xbfDeseas cerrar sesi\xf3n?",icon:"warning",showCancelButton:!0,confirmButtonText:"Salir",cancelButtonText:"Cancelar"}).then((function(e){if(e.isConfirmed)localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login");else if(e.isDenied)return}))},title:"Cerrar sesion",children:[" ",Object(g.jsx)(u.i,{})," ",Object(g.jsx)("span",{className:"hidden text-base tablet:block",children:" Cerrar sesion "})," "]})]})]})},z=function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("token"),s=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={headers:{Authorization:"Bearer ".concat(c)}},r=new FormData(t.target),""!==(n=Object.fromEntries(r.entries())).title&&""!==n.description){e.next=6;break}return e.abrupt("return",Object(p.b)("Llena todos los datos",{type:"warning"}));case 6:return console.log(n),e.prev=7,e.next=10,x.a.post("https://posts-pw2021.herokuapp.com/api/v1/post/create",n,a);case 10:201===e.sent.status&&Object(p.b)("Post creado!",{type:"success"}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),401===(s=e.t0.response).status&&Object(p.b)("No tienes acceso a esta funcion",{type:"warning"}),400===s.status&&Object(p.b)("El formulario no esta correctamente escrito",{type:"error"});case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"w-full h-auto max-h-96 bg-gray-100 flex flex-col items-center rounded-lg shadow-lg laptop:w-1/2 dark:bg-gray-600",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)("button",{className:"flex justify-center items-center p-4 w-full h-6 dark:text-white",onClick:function(){n(!a)},children:a?Object(g.jsx)(u.d,{}):Object(g.jsx)(u.a,{})}),Object(g.jsx)("main",{className:"".concat(a?"":"hidden"," w-max tablet:w-1/2 dark:text-white"),children:Object(g.jsxs)("form",{onSubmit:s,className:"flex flex-col p-4 space-y-2 ",children:[Object(g.jsx)("input",{placeholder:"Titulo de publicaci\xf3n",name:"title",id:"title",className:" rounded px-2 py-2 dark:bg-gray-500 dark:placeholder-gray-300",minLength:"8",maxLength:"32"}),Object(g.jsx)("input",{placeholder:"Descripci\xf3n",name:"description",id:"description",className:"rounded px-2 py-2 max-h-24 h-24 dark:bg-gray-500 dark:placeholder-gray-300",minLength:"8"}),Object(g.jsx)("input",{placeholder:"Imagen (URL)",name:"image",id:"image",className:" rounded px-2 py-2 dark:placeholder-gray-300 dark:bg-gray-500"}),Object(g.jsx)("button",{className:"bg-indigo-600 rounded-xl text-white font-medium py-2 px-6 hover:bg-indigo-800",children:" Subir "})]})})]})},D=a(33),B=a(15),A=function(e){var t=e.infoComment,a=t.user,r=t.description;return Object(g.jsx)("div",{className:"px-4 py-1 max-h-36 dark:text-white",children:Object(g.jsxs)("div",{className:"border-2 border-blue-400 rounded-lg px-1",children:[Object(g.jsxs)("h1",{className:"text-theRevenant-blueGray font-poppins dark:text-blue-200",children:[" @",null===a||void 0===a?void 0:a.username," "]}),Object(g.jsx)("h1",{className:"px-2 font-",children:r})]})})},E=function(e){var t=e.post,a=e.afterSubmit,n=Object(r.useState)(""),c=Object(v.a)(n,2),s=c[0],o=c[1];var u={description:s};function d(){return(d=Object(l.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.next=4,x.a.patch("https://posts-pw2021.herokuapp.com/api/v1/post/comment/".concat(t),u,n);case 4:o(""),a(u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsx)("form",{onSubmit:function(e){return d.apply(this,arguments)},className:"px-4 py-2",children:Object(g.jsx)("input",{placeholder:"Press enter to comment",minLength:"8",type:"text",className:"w-full border-blue-400 border-2 py-2 px-4 rounded-xl h-10 dark:bg-gray-500 dark:placeholder-gray-300 dark:text-white",onChange:function(e){o(e.target.value)},value:s})})},R=a(47),P=a.n(R),T=function(e){var t=e.postId,a=e.setStatus,r=localStorage.getItem("token"),n=function(){var e=Object(l.a)(i.a.mark((function e(n){var c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c={headers:{Authorization:"Bearer ".concat(r)}},s=new FormData(n.target),""!==(o=Object.fromEntries(s.entries())).title&&""!==o.description){e.next=6;break}return e.abrupt("return",Object(p.b)("Llena todos los datos",{type:"warning"}));case 6:return console.log(o),e.prev=7,e.next=10,x.a.put("https://posts-pw2021.herokuapp.com/api/v1/post/update/".concat(t),o,c);case 10:200===e.sent.status&&(Object(p.b)("Post editado!",{type:"success"},{position:"top-center"}),a(t)),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(7),401===(l=e.t0.response).status&&Object(p.b)("No tienes acceso a esta funcion",{type:"warning"}),400===l.status&&Object(p.b)("Mal formulario",{type:"error"}),404===l.status&&Object(p.b)("post no encontrado",{type:"error"});case 20:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"w-full h-auto max-h-96 bg-gray-100 flex flex-col items-center rounded-lg shadow-lg dark:bg-gray-600",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)("main",{className:"w-full dark:text-white",children:Object(g.jsxs)("form",{onSubmit:n,className:"flex flex-col p-4 space-y-2 ",children:[Object(g.jsx)("input",{placeholder:"Titulo de publicaci\xf3n",name:"title",id:"title",className:" rounded px-2 py-2 dark:bg-gray-500 dark:placeholder-gray-300",minLength:"8",maxLength:"32"}),Object(g.jsx)("input",{placeholder:"Descripci\xf3n",name:"description",id:"description",className:"rounded px-2 py-2 max-h-24 h-24 dark:bg-gray-500 dark:placeholder-gray-300",minLength:"8"}),Object(g.jsx)("input",{placeholder:"Imagen (URL)",name:"image",id:"image",className:" rounded px-2 py-2 dark:placeholder-gray-300 dark:bg-gray-500"}),Object(g.jsx)("button",{className:"bg-indigo-600 rounded-xl text-white font-medium py-2 px-6 hover:bg-indigo-800",children:" Editar "})]})})]})},U=function(e){var t=e.username,a=e.struct,n=e.reference,c=e.reloadReference,s=a._id,o=a.title,d=a.description,j=a.image,b=a.user,m=a.likes,h=a.comments,f=a.createdAt,O=a.active,y=Object(r.useState)(!1),w=Object(v.a)(y,2),k=w[0],N=w[1],S=Object(r.useState)(h),C=Object(v.a)(S,2),I=C[0],L=C[1],z=Object(r.useState)(m.some((function(e){return e.username===t}))),R=Object(v.a)(z,2),U=R[0],_=R[1],F=Object(r.useState)(m.length),G=Object(v.a)(F,2),J=G[0],M=G[1],W=Object(r.useState)(!1),H=Object(v.a)(W,2),q=H[0],K=H[1],Q=Object(r.useState)(!1),V=Object(v.a)(Q,2),X=V[0],Y=V[1],Z=Object(r.useState)(O),$=Object(v.a)(Z,2),ee=$[0],te=$[1];function ae(){return(ae=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.next=4,x.a.patch("https://posts-pw2021.herokuapp.com/api/v1/post/like/".concat(s),null,t);case 4:x.a.get("https://posts-pw2021.herokuapp.com/api/v1/post/one/".concat(s),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),U?(M(J-1),_(!1)):(M(J+1),_(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(p.b)("No puedes dar like a este post",{type:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function re(){return(re=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.next=4,x.a.patch("https://posts-pw2021.herokuapp.com/api/v1/post/fav/".concat(s),null,t);case 4:K(!q),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),404===e.t0.response.status&&Object(p.b)("Este post esta oculto, no puedes agregarlo a tus favoritos",{type:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.next=3,x.a.get("https://posts-pw2021.herokuapp.com/api/v1/post/fav",t);case 3:a=e.sent,r=a.data,n=!1,r.favorites.map((function(e){return e===s&&(n=!0),n})),K(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var ne=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.next=4,x.a.patch("https://posts-pw2021.herokuapp.com/api/v1/post/toggle/".concat(s),null,t);case 4:te(!ee),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Hubo un error 10000");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"h-4/6 bg-gray-100 flex flex-col justify-center items-center w-11/12 dark:bg-gray-600",children:[Object(g.jsx)(p.a,{}),Object(g.jsxs)("div",{className:"max-w-md container bg-white rounded-xl shadow-lg transform transition duration-500 hover:shadow-2xl dark:bg-gray-500 overflow-x-hidden",children:["DisplayOwned"===n&&O&&Object(g.jsxs)("div",{className:"w-full bg-green-400 flex p-2 f justify-around overflow-x-hidden dark:bg-green-700",children:[Object(g.jsx)("h1",{className:"text-gray-800 font-semibold text-xl dark:text-white",children:" Activo "}),Object(g.jsx)("button",{onClick:function(e){ne()},className:"hover:underline dark:text-white",children:" Desactivar "})]}),"DisplayOwned"===n&&!O&&Object(g.jsxs)("div",{className:"w-full p-2 bg-red-500 flex justify-around overflow-x-hidden dark:bg-red-700",children:[Object(g.jsx)("h1",{className:"text-gray-800 font-semibold text-xl dark:text-white",children:" Desactivado "}),Object(g.jsx)("button",{onClick:function(e){ne()},className:"hover:underline dark:text-white",children:" Activar "})]}),Object(g.jsxs)("div",{className:"p-4",children:[Object(g.jsxs)("div",{className:"flex flex-row w-full justify-between space-y-3 items-center",children:[Object(g.jsx)("h1",{className:"text-2xl font-bold text-gray-800 cursor-pointer break-all hover:text-gray-900 transition duration-100 dark:text-white",children:o}),"DisplayOwned"===n&&Object(g.jsx)("div",{className:"flex items-center",children:Object(g.jsxs)("button",{type:"button",onClick:function(){Y(!X)},className:" text-gray-400",children:[" ",Object(g.jsx)(u.f,{size:25})," "]})})]}),Object(g.jsxs)("p",{className:"text-xs dark:text-white",children:[" ",new Date(f).toLocaleDateString()," "]}),Object(g.jsx)("p",{className:"text-gray-700 mt-3 hover:underline cursor-pointer break-all dark:text-white",children:d})]}),Object(g.jsx)("img",{className:"w-full cursor-pointer",src:j,alt:""}),Object(g.jsxs)("div",{className:"flex p-4 justify-around dark:text-white",children:[Object(g.jsxs)("div",{className:"flex items-center space-x-0 ",children:[Object(g.jsx)(u.m,{className:"w-10 rounded-full",size:25}),Object(g.jsxs)("h2",{className:"text-gray-800 font-bold cursor-pointer dark:text-white",children:["@",null===b||void 0===b?void 0:b.username]})]}),Object(g.jsxs)("div",{className:"flex space-x-2 items-center",children:[Object(g.jsxs)("div",{className:"flex space-x-1 items-center",children:[Object(g.jsx)("button",{type:"button",onClick:function(){return N(!k)},className:"".concat(k&&"text-blue-400"," text-gray-400"),children:Object(g.jsx)(u.e,{size:25})}),Object(g.jsx)("span",{children:I.length})]}),Object(g.jsxs)("div",{className:"flex space-x-1 items-center",children:[Object(g.jsxs)("button",{type:"button",onClick:function(){return ae.apply(this,arguments)},className:"".concat(U&&"text-red-400"," text-gray-400"),fill:"currentColor",children:[" ",Object(g.jsx)(u.g,{size:25,className:"text-green"})]}),Object(g.jsxs)("span",{children:[" ",J]})]}),Object(g.jsx)("div",{className:"flex space-x-3 items-center",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return re.apply(this,arguments)},className:"".concat(q&&"text-yellow-400"," text-gray-400"),children:[Object(g.jsx)(u.k,{size:25})," "]})})]})]}),Object(g.jsxs)("div",{className:"".concat(!k&&"hidden"),children:[h&&I.map((function(e){return Object(g.jsx)(A,{infoComment:e},P.a.generate())})),Object(g.jsx)(E,{post:s,afterSubmit:function(e){var a=[].concat(Object(B.a)(I),[Object(D.a)(Object(D.a)({},e),{},{user:{username:t}})]);L(a)}})]}),X&&Object(g.jsx)(T,{postId:s,setStatus:function(){Y(!1),c()}})]})]})},_=function(){return Object(g.jsx)("div",{className:" flex  z-20 bg-gray-600 h-screen w-full justify-center items-center rounded-lg bg-opacity-50 ",children:Object(g.jsx)(u.j,{className:"w-8 h-8 stroke text-white animate-spin"})})},F=function(e){var t=e.username,a=Object(r.useState)({status:"Loading",data:null}),n=Object(v.a)(a,2),c=n[0],s=n[1],o=Object(r.useRef)(),d=Object(r.useState)(0),j=Object(v.a)(d,2),b=j[0],m=j[1];if(Object(r.useEffect)((function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},t=function(){var t=Object(l.a)(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=10&page=".concat(b),e);case 2:a=t.sent,r=a.data,s({status:"Ok",data:r.data}),o.current=r.pages;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[b]),"Loading"===c.status)return Object(g.jsx)(_,{});var h=function(){window.scroll({top:0,left:0,behavior:"smooth"})};return Object(g.jsxs)("div",{className:"w-full min-h-screen bg-gray-100 rounded-xl space-y-10 flex flex-col py-8 items-center laptop:w-1/2 dark:bg-gray-600",children:[c.data&&c.data.map((function(e){return Object(g.jsx)(U,{struct:e,username:t},e._id)})),Object(g.jsxs)("div",{className:"flex items-center h-14 justify-center",children:[Object(g.jsx)("button",{className:"bg-gray-400 m-2 p-2 rounded-lg text-white flex items-center hover:bg-gray-600 dark:hover:bg-gray-800",onClick:function(){m(b-1),h(),0===b&&m(b)},children:Object(g.jsx)(u.b,{className:"mr-1"})}),Object(g.jsxs)("span",{className:"bg-gray-400 my-3 px-2 py-1 rounded-lg text-white font-medium dark:bg-gray-800",children:[" ",b+1," "]}),Object(g.jsx)("button",{className:"bg-gray-400 m-2 p-2 rounded-lg text-white flex items-center hover:bg-gray-600 dark:hover:bg-gray-800",onClick:function(){m(b+1),h(),b>=o&&(Object(p.b)("No hay mas paginas",{type:"Warning"}),m(b-1))},children:Object(g.jsx)(u.c,{className:"ml-1"})})]})]})},G=function(){return Object(g.jsxs)("div",{className:"w-full h-screen bg-gray-400 flex items-center justify-center flex-col space-y-7",children:[Object(g.jsx)("h1",{className:"text-center text-white font-semibold text-4xl",children:" Redireccionando... "}),Object(g.jsx)(u.j,{size:"40",className:"text-white animate-spin"})]})},J=function(){return Object(g.jsx)("div",{className:"w-full h-screen bg-gray-400 flex items-center justify-center flex-col space-y-7",children:Object(g.jsx)(u.j,{size:"40",className:"text-white animate-spin"})})},M=function(){var e=Object(r.useState)(),t=Object(v.a)(e,2),a=t[0],n=t[1],c=Object(j.f)(),s=localStorage.getItem("token"),o=localStorage.getItem("role");return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(s);case 3:t=e.sent,n(t.username),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.b)("Algo salio mal, inicia sesion nuevamente",{type:"error"}),c("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),document.title="Principal"}),[]),void 0===a?Object(g.jsx)(J,{}):localStorage.getItem("token")?Object(g.jsxs)("div",{className:"flex flex-col justify-items-center items-center bg-gray-200 gap-3 overflow-x-hidden dark:bg-gray-900",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)(L,{username:a}),"admin"===o&&Object(g.jsx)(z,{}),Object(g.jsx)(F,{username:a})]}):Object(g.jsx)(G,{})},W=a(48),H=function(){var e=Object(j.f)();return Object(g.jsxs)("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-gray-500 space-y-6 text-xl text-gray-200",children:[Object(g.jsx)("h1",{className:"font-semibold text-2xl",children:" Error 404 "}),Object(g.jsx)("h2",{children:" La p\xe1gina no existe "}),Object(g.jsx)(W.a,{size:"80"}),Object(g.jsx)("button",{className:" bg-theRevenant-darkBlue p-4 rounded-lg hover:bg-theRevenant-blueGreen ",onClick:function(t){e("/login")},children:" Regresar al login "})]})},q=function(e){var t=e.username,a=Object(r.useState)({status:"Loading",data:null}),n=Object(v.a)(a,2),c=n[0],s=n[1],o=Object(r.useRef)(),d=Object(r.useState)(0),j=Object(v.a)(d,2),b=j[0],m=j[1],h=Object(r.useState)((function(){return!1})),f=Object(v.a)(h,2),O=f[0],y=f[1];return Object(r.useEffect)((function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},t=function(){var t=Object(l.a)(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=15&page=".concat(b),e);case 2:a=t.sent,r=a.data,s({status:"Ok",data:r.data}),o.current=r.pages;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[b,O]),"Loading"===c.status?Object(g.jsx)(_,{}):Object(g.jsxs)("div",{className:"w-full min-h-screen bg-gray-100 rounded-xl space-y-10 flex flex-col py-8 items-center gap-3 laptop:w-1/2 dark:bg-gray-600",children:[c.data&&c.data.map((function(e){return Object(g.jsx)(U,{struct:e,username:t,reference:"DisplayOwned",reloadReference:function(){y(!O)}},e._id)})),Object(g.jsxs)("div",{className:"flex items-center h-14 justify-center dark:bg-gray-600",children:[Object(g.jsx)("button",{className:"bg-gray-400 m-2 p-2 rounded-lg text-white flex items-center hover:bg-gray-600",onClick:function(){m(b-1),0===b&&m(b)},children:Object(g.jsx)(u.b,{className:"mr-1"})}),Object(g.jsxs)("span",{className:"bg-gray-400 my-3 px-2 py-1 rounded-lg text-white font-medium",children:[" ",b+1," "]}),Object(g.jsx)("button",{className:"bg-gray-400 m-2 p-2 rounded-lg text-white flex items-center hover:bg-gray-600",onClick:function(e){m(b+1),b>o&&(Object(p.b)("No hay mas paginas",{type:"Warning"}),m(b-1))},children:Object(g.jsx)(u.c,{className:"ml-1"})})]})]})},K=function(){var e=Object(r.useState)(),t=Object(v.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("token");return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(c);case 3:t=e.sent,n(t.username),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.b)("Algo salio mal, inicia sesion nuevamente",{type:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),document.title="Perfil"}),[]),Object(g.jsxs)("div",{className:"flex flex-col justify-items-center items-center bg-gray-200 gap-3 overflow-x-hidden dark:bg-gray-900",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)(L,{username:a}),Object(g.jsx)(q,{username:a})]})},Q=a(25),V=function(){return Object(g.jsx)(Q.a,{children:Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{exact:!0,path:"/login",element:Object(g.jsx)("div",{className:"flex justify-center items-center bg-gray-300 h-screen",children:Object(g.jsx)(O,{})})}),Object(g.jsx)(j.a,{path:"/mainpage",element:Object(g.jsx)("div",{children:Object(g.jsx)(M,{})})}),Object(g.jsx)(j.a,{path:"/profile",element:Object(g.jsx)("div",{children:Object(g.jsx)(K,{})})}),Object(g.jsx)(j.a,{path:"*",element:Object(g.jsx)(H,{})})]})})};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.334aeb41.chunk.js.map